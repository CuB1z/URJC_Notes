---
tags: URJC URJC_IO
---

# Tema 2 - Investigaci√≥n Operativa

---

## Tabla de Contenidos

1. [¬øQu√© es la Optimizaci√≥n Lineal Continua?](#¬øQu√©%20es%20la%20Optimizaci√≥n%20Lineal%20Continua?)
2. [Asignaci√≥n de Recursos: F√°brica de Cerveza](#Asignaci√≥n%20de%20Recursos%20F√°brica%20de%20Cerveza)
3. [Asignaci√≥n de Recursos: Petroqu√≠mica](#Asignaci√≥n%20de%20Recursos%20Petroqu√≠mica)
4. [¬øQu√© es el An√°lisis de Sensibilidad?](#¬øQu√©%20es%20el%20An√°lisis%20de%20Sensibilidad?)
5. [¬øQu√© son los Valores Sombra?](#¬øQu√©%20son%20los%20Valores%20Sombra?)
6. [Tipos de Restricciones](#Tipos%20de%20Restricciones)
7. [An√°lisis de resultados en Gurobipy](#An√°lisis%20de%20resultados%20en%20Gurobipy)
8. [Bibliograf√≠a](#Bibliograf√≠a)

---

## ¬øQu√© es la Optimizaci√≥n Lineal Continua?

> **Optimizaci√≥n Lineal Continua**
> M√©todo matem√°tico para maximizar o minimizar una funci√≥n lineal, sujeta a restricciones lineales, donde las variables pueden tomar cualquier valor real dentro de un intervalo continuo.

> **Principales propiedades**
> 
> _Proporcionalidad_
> La contribuci√≥n al coste y restricciones es proporcional al valor de las variables de decisi√≥n.
> 
> _Aditividad_
> El coste y las restricciones se obtienen como suma directa de las contribuciones de las variables.
> 
> _Divisibilidad_
> Las variables pueden tomar valores reales fraccionarios.
> 
> _Determinismo_
> Los coeficientes de las variables son constantes y conocidos.

---

## Asignaci√≥n de Recursos: F√°brica de Cerveza

> **Caso**
> En una f√°brica de cerveza se producen tres tipos distintos: rubia, negra y de baja graduaci√≥n, y para ello se utilizan dos materias primas: malta y levadura.
> 
> | Materia Prima | Rubia | Negra | Baja | Disponibilidad |
> | --------------- | ------- | ------- | ---- | ---------------- |
> |        Malta       |     1     |     2     |   2   |            30         |
> |     Levadura    |     2     |     1     |   2    |            45          |
> |          PvP        |     7‚Ç¨    |     4‚Ç¨    |   3‚Ç¨  |            ---         |

> **Objetivo**
> Maximizar el beneficio de la producci√≥n de tres tipos de cerveza, respetando las limitaciones de malta y levadura.

> ---

> **Variables de decisi√≥n**
> $x_1$ $\to$ Producci√≥n de cerveza rubia.
> $x_2$ $\to$ Producci√≥n de cerveza negra.
> $x_3$ $\to$ Producci√≥n de cerveza baja.

> ---

> **Modelo matem√°tico**
> 
> *Funci√≥n objetivo*
> $\max Z = 7x_1 + 4x_2 + 3x_3$
> 
> *Restricciones*
> $x_1 + 2x_2 + 2x_3 \leq 30$ $\to$ Restricci√≥n de malta.
> $2x_1 + x_2 + 2x_3 \leq 45$ $\to$ Restricci√≥n de levadura.
> $x‚ÇÅ_1, x_2, x_3 \geq 0$  $\to$ Restricci√≥n de no negatividad.

> ---

> **Implementaci√≥n en Python**
> 
> ```python
> from gurobipy import Model, GRB
>
> # Crear el modelo
> modelo = Model("Asignaci√≥n de recursos")
> 
> # Definir variables de decisi√≥n
> x = modelo.addVar(name="Cerveza_Rubia", lb=0)
> y = modelo.addVar(name="Cerveza_Negra", lb=0)
> z = modelo.addVar(name="Cerveza_Baja", lb=0)
> 
> # Definir la funci√≥n objetivo
> modelo.setObjective(7 * x + 4 * y + 3 * z, GRB.MAXIMIZE)
> 
> # Agregar restricciones
> modelo.addConstr(x + 2 * y + 2 * z <= 30, name="Restricci√≥n_Malta")
> modelo.addConstr(2 * x + y + 2 * z <= 45, name="Restricci√≥n_Levadura")
> 
> # Optimizar
> modelo.optimize()
> ```
> 

---

## Asignaci√≥n de Recursos: Petroqu√≠mica

> **Caso**
> Una petroqu√≠mica produce dos productos principales: PET-envase y PET-fibra, a partir de dos materias primas: PTA y MEG.
> 
> | Materia Prima | PET-envase | PET-fibra | Disponibilidad |
> | ---------------- | ------------ | ---------- | ---------------- |
> |          PTA         |       0.95      |       0.92   |         280 T       |
> |         MEG        |       0.37       |      0.34    |         170 T      |
> |         PvP         |         32‚Ç¨       |        38‚Ç¨   |          ---          |

> **Objetivo**
> Maximizar el beneficio de la producci√≥n de PET-envase y PET-fibra, respetando las limitaciones de PTA y MEG.

> ---

> **Variables de decisi√≥n**
> $x$ -> Toneladas de PET-envase a producir.
> $y$ -> Toneladas de PET-envase a producir.

> ---

> **Modelo matem√°tico**
> 
> *Funci√≥n objetivo*
> $\max Z = 32x + 38y$
> 
> *Restricciones*
> $0.95x + 0.92y \leq 280$ $\to$ Restricci√≥n de PTA.
> $0.37x + 0.34y \leq 170$ $\to$ Restricci√≥n de MEG.
> $x, y \geq 0$ $\to$  Restricci√≥n de no negatividad.

> ---

> **Implementaci√≥n en Python**
> 
> ```python
> from gurobipy import Model, GRB
>
> # Crear el modelo
> modelo = Model("Producci√≥n_PET")
>
> # Variables de decisi√≥n
> x = modelo.addVar(name="PET_envase", lb=0)
> y = modelo.addVar(name="PET_fibra", lb=0)
>
> # Funci√≥n objetivo
> modelo.setObjective(32 * x + 38 * y, GRB.MAXIMIZE)
>
> # Restricciones
> modelo.addConstr(0.95 * x + 0.92 * y <= 280, name="Restricci√≥n_PTA")
> modelo.addConstr(0.37 * x + 0.34 * y <= 170, name="Restricci√≥n_MEG")
>
> # Optimizar
> modelo.optimize()
> ```

> ---

> **An√°lisis de los resultados**
> $\text{Consumo\_PTA} = 0.950ùë• + 0.920ùë¶ = 0.950 (0) + 0.920 (304.35) = 280 \space T$
> $\text{Consumo\_MEG} = 0.370ùë• + 0.340ùë¶ = 0.3700 (0) + 0.340 (304.35) = 103.48 \space T$
> 
> Se utiliza toda la disponibilidad de PTA, es decir, $280$ toneladas.
> Se utilizan $103.48$ toneladas de MEG, quedando una disponibilidad restante de $66.52$.
> 
> Hay MEG disponible que no se utiliza, pero la disponibilidad de PTA limita la producci√≥n adicional.

> **¬øQu√© precio tendr√≠amos que poner al PET-envase para que fuera rentable de fabricar?**
> 
> _Paso 1: Entender por qu√© no se produce PET-envase_ 
> El PET-fibra tiene un mayor beneficio por tonelada y consume menos materias primas por tonelada producida en comparaci√≥n con el PET-envase.
> Por lo tanto, es m√°s rentable y eficiente producir PET-fibra bajo las condiciones actuales.
> 
> _Paso 2: Calcular el beneficio por unidad de materia prima_
> Para que el PET-envase sea competitivo, su beneficio por unidad de materia prima debe ser al menos igual al del PET-fibra.
> 
> - $\text{Beneficio\_Envase} = 32\space /\space 0.95 \approx 33.68 \text{ euros / tonelada de PTA}$.
> - $\text{Beneficio\_Fibra} = 38\space /\space 0.92 \approx 41.30 \text{ euros / tonelada de PTA}$
> 
> _Paso 3: Determinar el precio necesario para el PET-envase_
> Para que el PET-envase sea tan atractivo como el PET-fibra en t√©rminos de beneficio por tonelada de PTA, necesitamos encontrar el nuevo beneficio por tonelada de PET-envase que satisfaga que ${P}\space /\space {0.95} \geq 41.30$.
> 
> Despejando $P$, obtenemos que $P \geq 41.30 \cdot 0.95$ $\approx 39.24 \space \text{euros/tonelada}$.

---

## ¬øQu√© es el An√°lisis de Sensibilidad?

> **An√°lisis de Sensibilidad**
> T√©cnica que permite evaluar c√≥mo los cambios en los par√°metros de un modelo de programaci√≥n lineal (como los coeficientes de la funci√≥n objetivo o los recursos disponibles) afectan la soluci√≥n √≥ptima.

> **Objetivos del an√°lisis de sensibilidad**
> 
> *Evaluar la robustez de la soluci√≥n √≥ptima*
> Determinar si la soluci√≥n √≥ptima permanece v√°lida ante peque√±os cambios en los par√°metros mediante la identificaci√≥n de los rangos de variaci√≥n de los coeficientes dentro de los cuales la soluci√≥n √≥ptima no cambia.
> 
> *Identificar par√°metros cr√≠ticos*
> Detectar qu√© par√°metros tienen mayor impacto en la soluci√≥n, priorizando la atenci√≥n en los par√°metros m√°s sensibles para una gesti√≥n m√°s efectiva.
> 
> *Facilitar la toma de decisiones bajo incertidumbre*
> Preparar planes de contingencia para diferentes escenarios posibles, evaluando el efecto de cambios futuros en el mercado o en la disponibilidad de recursos.

> ---

> **Componentes del An√°lisis de Sensibilidad**
> 
> *Variaci√≥n en los coeficientes de la funci√≥n objetivo*
> Analizar y determinar los rangos de variaci√≥n para los cuales la soluci√≥n b√°sica √≥ptima permanece inalterada.
> 
> *Variaci√≥n en los recursos disponibles*
> Evaluar el impacto de cambios en las restricciones de disponibilidad de recursos y calcular el valor sombra de los recursos, que indica el incremento en el valor de la funci√≥n objetivo por unidad adicional de recurso.
> 
> *Rango de optimalidad*
> Intervalo en el cual los coeficientes de la funci√≥n objetivo pueden variar sin cambiar la soluci√≥n √≥ptima.
> 
> *Rango de factibilidad*
> Intervalo en el cual los recursos pueden variar sin que la soluci√≥n se vuelva infactible.
> 
> *Informes de sensibilidad del software de optimizaci√≥n*
> Herramientas como **Gurobi**, **CPLEX** o **Excel Solver** proporcionan informes detallados que incluyen valores sombra, rangos de variaci√≥n y an√°lisis de sensibilidad.

---

## ¬øQu√© son los Valores Sombra?

> **Valores Sombra**
> Los valores sombra (o precios duales) representan la tasa de cambio del valor √≥ptimo de la funci√≥n objetivo por unidad adicional de un recurso disponible.
> 
> Indican cu√°nto aumentar√≠a (o disminuir√≠a) el beneficio total si se incrementa (o reduce) en una unidad el recurso asociado a una restricci√≥n activa, manteniendo todo lo dem√°s constante.

> ---

> **Interpretaci√≥n econ√≥mica**
> 
> *Valor econ√≥mico de los recursos escasos*
> Los valores sombra reflejan el valor marginal de un recurso. si un recurso es escaso (la restricci√≥n est√° activa), su valor sombra es positivo, indicando que obtener m√°s de ese recurso aumentar√≠a el beneficio total.
> 
> *Decisiones de inversi√≥n*
> Ayudan a decidir si es rentable invertir en obtener m√°s de un recurso limitado. Por ejemplo: contratar m√°s personal o comprar m√°s maquinaria.

> **C√°lculo de los Valores Sombra**
> 
> *Mediante el problema dual*
> Cada restricci√≥n en el problema primal se corresponde a una variable en el problema dual. Los valores de estas variables duales en la soluci√≥n √≥ptima son los valores sombra.
> 
> *Utilizando el m√©todo Simplex*
> En la √∫ltima tabla √≥ptima del Simplex, los coeficientes de las variables b√°sicas en las ecuaciones correspondientes a las restricciones proporcionan los valores sombra.

> ---

> **Caracter√≠sticas de los Valores Sombra**
> 
> *Aplicables a restricciones activas*
> Los valores sombra son generalmente no cero solo para restricciones que est√°n activas (se cumplen con igualdad en la soluci√≥n √≥ptima).
> 
> *Rangos de validez*
> Los valores sombra son v√°lidos dentro de ciertos rangos de variaci√≥n del recurso. Fuera de estos rangos, el valor sombra puede variar y la soluci√≥n √≥ptima puede ser diferente.

---

## Tipos de Restricciones

> **Restricci√≥nes Activas**
> Una restricci√≥n activa es aquella que se cumple con igualdad en la soluci√≥n √≥ptima. Es decir, el recurso asociado est√° completamente utilizado, y la restricci√≥n limita directamente la soluci√≥n.
> 
> *Identificaci√≥n de restricciones activas*
> Si en la soluci√≥n √≥ptima, la restricci√≥n se cumple exactamente, es decir, el recurso total disponible es igual al recurso utilizado, entonces es una restricci√≥n activa.
> 
> *Importancia de las restricciones activas*
> $\to$ Limitan la soluci√≥n √≥ptima.
> $\to$ Afectan directamente el valor de la funci√≥n objetivo.
> $\to$ Asociadas a valores sombra no cero.

> ---

> **Restricciones No Activas**
> Una restricci√≥n no activa es aquella que tiene un margen en la soluci√≥n √≥ptima. Es decir, el recurso asociado no se utiliza en su totalidad y no restringe directamente la soluci√≥n.
> 
> *Recursos con holgura*
> Indican que hay m√°s recurso disponible de lo que se utiliza en la soluci√≥n √≥ptima.
> 
> *Valor sombra cero*
> A√±adir m√°s de este recurso no mejorar√° el valor de la funci√≥n objetivo, ya que no es un recurso limitante.
> 
> *Posibilidad de reasignaci√≥n*
> Se puede considerar reducir el recurso disponible (si es posible) para ahorrar costes, ya que no afecta la soluci√≥n √≥ptima.

---

## An√°lisis de resultados en Gurobipy

```python
from gurobipy import Model, GRB

# C√≥digo anterior del modelo ...

# Para acceder al combre de la variable -> (var.VarName)
# Para acceder al nombre de la restricci√≥n -> (constr.ConstrName)

# Imprimir los valores sombra de las restricciones (constr.Pi)
print("Valores sombra (dual) de las restricciones:")
for constr in model.getConstrs():
¬† ¬† print(f"{constr.ConstrName}: {constr.Pi:.4f}")

print()

# Imprimir los costes reducidos de las variables (var.RC)
print("Costes reducidos de las variables:")
for var in model.getVars():
¬† ¬† print(f"{var.VarName}: {var.RC:.4f}")

print()
¬† ¬† 
# Imprimir las holguras de las restricciones (constr.Slack)
print("Holguras de las restricciones:")
for constr in model.getConstrs():
¬† ¬† print(f"{constr.ConstrName}: {constr.Slack:.4f}")

print()

# Verificar si se encontr√≥ una soluci√≥n √≥ptima
if model.status == GRB.OPTIMAL:
¬† ¬† print("Soluci√≥n √≥ptima:")

	# Imprimir el valor de las variables (var.X)
¬† ¬† for var in model.getVars():
¬† ¬† ¬† ¬† print(f"{var.VarName} = {var.X:.2f} unidades")

	# Imprimir el valor de la funci√≥n objetivo (model.ObjVal)
¬† ¬† print(f"Funci√≥n Objetivo = ${model.ObjVal:.2f}")

else:
¬† ¬† print("No se encontr√≥ una soluci√≥n √≥ptima.")
¬† ¬† 
```

---

## Bibliograf√≠a

> 1. Sixto R√≠os Insua. *Investigaci√≥n Operativa. Optimizaci√≥n.*
> 2. Sixto R√≠os Insua. *Problemas de Investigaci√≥n Operativa. Programaci√≥n Lineal y Extensiones.*
> 3. Paul W. Williams. *Model Building in Mathematical Programming.*  

---